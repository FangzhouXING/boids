<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Boids Simulation</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <main>
      <header>
        <h1>Boids Simulation</h1>
        <p>100000 boids, adjustable count.</p>
      </header>

      <section class="sim-layout">
        <section class="canvas-wrap">
          <canvas id="boidCanvas" width="960" height="560" aria-label="boids simulation canvas"></canvas>
        </section>

        <aside class="controls" aria-label="Simulation controls">
          <section class="control-section control-actions" aria-label="Primary action controls">
            <button id="restartButton" type="button">Reseed</button>
            <button id="boundaryModeToggle" class="secondary" type="button" aria-pressed="true">Boundary: Wrap</button>
            <button id="viewToggleButton" class="secondary button-spaced" type="button" aria-pressed="false">View: Arrows</button>
          </section>

          <details class="control-section control-dropdown" open aria-label="Important simulation sliders">
            <summary class="control-title">Important Sliders</summary>
            <label class="control-group" for="boidCountRange">
              <span>Count: <strong id="boidCountValue">100000</strong></span>
              <input id="boidCountRange" type="range" min="0" max="0" step="1" value="0" />
            </label>
            <label class="control-group" for="pherTrailWeightRange">
              <span>Trail Deposit: <strong id="pherTrailWeightValue">0.12</strong></span>
              <input id="pherTrailWeightRange" type="range" min="0.00" max="1.50" step="0.01" value="0.12" />
            </label>
          </details>

          <details class="control-section control-dropdown" aria-label="Other simulation controls">
            <summary class="control-title">Others</summary>

            <details class="control-section control-dropdown control-subgroup" aria-label="Boid motion controls">
              <summary class="control-title">Boids</summary>
              <label class="control-group" for="turnAccelRange">
                <span>Turn Accel: <strong id="turnAccelValue">340</strong> deg/sÂ²</span>
                <input id="turnAccelRange" type="range" min="120" max="2400" step="20" value="340" />
              </label>
              <label class="control-group" for="minSpeedRange">
                <span>Min Speed: <strong id="minSpeedValue">2.00</strong></span>
                <input id="minSpeedRange" type="range" min="0" max="4.5" step="0.05" value="2.00" />
              </label>
              <label class="control-group" for="maxSpeedRange">
                <span>Max Speed: <strong id="maxSpeedValue">3.00</strong></span>
                <input id="maxSpeedRange" type="range" min="0.4" max="4.5" step="0.05" value="3.00" />
              </label>
              <label class="control-group" for="perceptionRadiusRange">
                <span>Perception Radius: <strong id="perceptionRadiusValue">92</strong></span>
                <input id="perceptionRadiusRange" type="range" min="24" max="220" step="2" value="92" />
              </label>
              <label class="control-group" for="separationRadiusRange">
                <span>Separation Radius: <strong id="separationRadiusValue">18</strong></span>
                <input id="separationRadiusRange" type="range" min="6" max="80" step="1" value="18" />
              </label>
              <label class="control-group" for="alignWeightRange">
                <span>Align Weight: <strong id="alignWeightValue">0.34</strong></span>
                <input id="alignWeightRange" type="range" min="0.00" max="2.50" step="0.01" value="0.34" />
              </label>
              <label class="control-group" for="cohesionWeightRange">
                <span>Cohesion Weight: <strong id="cohesionWeightValue">0.07</strong></span>
                <input id="cohesionWeightRange" type="range" min="0.00" max="2.50" step="0.01" value="0.07" />
              </label>
              <label class="control-group" for="separationWeightRange">
                <span>Separation Weight: <strong id="separationWeightValue">0.52</strong></span>
                <input id="separationWeightRange" type="range" min="0.00" max="3.50" step="0.01" value="0.52" />
              </label>
              <label class="control-group" for="trailWeightRange">
                <span>Trail Weight: <strong id="trailWeightValue">0.72</strong></span>
                <input id="trailWeightRange" type="range" min="0.00" max="2.50" step="0.01" value="0.72" />
              </label>
            </details>

            <details class="control-section control-dropdown control-subgroup" aria-label="Trail source controls">
              <summary class="control-title">Trail Sources</summary>
              <p class="fixed-count">Nodes: <strong>1</strong> (drifting)</p>
              <label class="control-group" for="predatorAttentionRange">
                <span>Source Strength: <strong id="predatorAttentionValue">0.05</strong></span>
                <input id="predatorAttentionRange" type="range" min="0.00" max="1.00" step="0.01" value="0.05" />
              </label>
            </details>

            <details class="control-section control-dropdown control-subgroup" aria-label="Physarum controls">
              <summary class="control-title">Physarum</summary>
              <label class="control-group" for="pherFearWeightRange">
                <span>Sensor Offset: <strong id="pherFearWeightValue">10.5</strong></span>
                <input id="pherFearWeightRange" type="range" min="2.0" max="24.0" step="0.5" value="10.5" />
              </label>
              <label class="control-group" for="pherDiffusionRange">
                <span>Trail Diffusion: <strong id="pherDiffusionValue">0.36</strong></span>
                <input id="pherDiffusionRange" type="range" min="0.02" max="0.95" step="0.01" value="0.36" />
              </label>
              <label class="control-group" for="pherDecayRange">
                <span>Trail Decay: <strong id="pherDecayValue">0.050</strong></span>
                <input id="pherDecayRange" type="range" min="0.001" max="0.200" step="0.001" value="0.050" />
              </label>
              <label class="control-group" for="panicBoostRange">
                <span>Turn Rate Limit: <strong id="panicBoostValue">170</strong> deg/s</span>
                <input id="panicBoostRange" type="range" min="40" max="600" step="5" value="170" />
              </label>
            </details>

            <details class="control-section control-dropdown control-subgroup" aria-label="Performance metrics">
              <summary class="control-title">Performance</summary>
              <p class="metric-line">FPS: <strong id="fpsValue">0</strong></p>
              <p class="metric-line">Frame CPU: <strong id="frameCpuValue">0.00</strong> ms</p>
              <p class="metric-line">Sim CPU: <strong id="simCpuValue">0.00</strong> ms</p>
              <p class="metric-line">Render CPU: <strong id="renderCpuValue">0.00</strong> ms</p>
            </details>
          </details>
        </aside>
      </section>
    </main>

    <script src="app.js"></script>
  </body>
</html>
