<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Boids Simulation</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <main>
      <header>
        <h1>Boids Simulation</h1>
        <p>10000 boids, fixed count.</p>
      </header>

      <section class="sim-layout">
        <section class="canvas-wrap">
          <canvas id="boidCanvas" width="960" height="560" aria-label="boids simulation canvas"></canvas>
        </section>

        <aside class="controls" aria-label="Simulation controls">
          <section class="control-section" aria-label="Boid motion controls">
            <h2 class="control-title">Boids</h2>
            <p class="fixed-count">Count: <strong>10000</strong> (fixed)</p>
            <label class="control-group" for="turnAccelRange">
              <span>Turn Accel: <strong id="turnAccelValue">720</strong> deg/sÂ²</span>
              <input id="turnAccelRange" type="range" min="120" max="2400" step="20" value="720" />
            </label>
            <label class="control-group" for="minSpeedRange">
              <span>Min Speed: <strong id="minSpeedValue">0.45</strong></span>
              <input id="minSpeedRange" type="range" min="0" max="1.6" step="0.05" value="0.45" />
            </label>
            <button id="viewToggleButton" class="secondary" type="button" aria-pressed="false">View: Arrows</button>
          </section>

          <section class="control-section" aria-label="Predator controls">
            <h2 class="control-title">Predators</h2>
            <p class="fixed-count">Count: <strong>5</strong> (fixed)</p>
            <label class="control-group" for="predatorAttentionRange">
              <span>Attention: <strong id="predatorAttentionValue">3.0</strong> s</span>
              <input id="predatorAttentionRange" type="range" min="0.5" max="8" step="0.1" value="3.0" />
            </label>
          </section>

          <section class="control-section" aria-label="Heatmap controls">
            <h2 class="control-title">Heatmap</h2>
            <label class="control-group" for="heatmapSpacingRange">
              <span>Dot Spacing: <strong id="heatmapSpacingValue">6.0</strong> px</span>
              <input id="heatmapSpacingRange" type="range" min="3" max="14" step="0.5" value="6.0" />
            </label>
            <label class="control-group" for="heatmapDotRadiusRange">
              <span>Dot Size: <strong id="heatmapDotRadiusValue">3.0</strong> px</span>
              <input id="heatmapDotRadiusRange" type="range" min="1.25" max="8" step="0.25" value="3.0" />
            </label>
            <label class="control-group" for="heatmapDiffuseRange">
              <span>Diffuse Radius: <strong id="heatmapDiffuseValue">17</strong> px</span>
              <input id="heatmapDiffuseRange" type="range" min="8" max="40" step="1" value="17" />
            </label>
            <label class="control-group" for="heatmapSamplesRange">
              <span>Sample Budget: <strong id="heatmapSamplesValue">320</strong></span>
              <input id="heatmapSamplesRange" type="range" min="96" max="768" step="32" value="320" />
            </label>
            <label class="control-group" for="heatmapTrendGainRange">
              <span>Trend Gain: <strong id="heatmapTrendGainValue">4.2</strong></span>
              <input id="heatmapTrendGainRange" type="range" min="1.0" max="9.0" step="0.1" value="4.2" />
            </label>
            <label class="control-group" for="heatmapTrendDeadbandRange">
              <span>Trend Deadband: <strong id="heatmapTrendDeadbandValue">0.045</strong></span>
              <input id="heatmapTrendDeadbandRange" type="range" min="0.005" max="0.18" step="0.005" value="0.045" />
            </label>
          </section>

          <section class="control-section" aria-label="Performance metrics">
            <h2 class="control-title">Performance</h2>
            <p class="metric-line">FPS: <strong id="fpsValue">0</strong></p>
            <p class="metric-line">Frame CPU: <strong id="frameCpuValue">0.00</strong> ms</p>
            <p class="metric-line">Sim CPU: <strong id="simCpuValue">0.00</strong> ms</p>
            <p class="metric-line">Heatmap CPU: <strong id="heatmapCpuValue">0.00</strong> ms</p>
            <p class="metric-line">Render CPU: <strong id="renderCpuValue">0.00</strong> ms</p>
          </section>

          <button id="restartButton" type="button">Reseed</button>
        </aside>
      </section>
    </main>

    <script src="app.js"></script>
  </body>
</html>
